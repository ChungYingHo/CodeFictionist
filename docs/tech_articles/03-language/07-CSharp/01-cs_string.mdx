---
title: C# - String
tags: [cs, string]
---


:::info
[C# 線上練習網站](https://dotnetfiddle.net/)
:::

## 認識 C# 架構
```csharp
using System;

class Hello
{
static void Main()
  {
    // This line prints "Hello, World" 
    Console.WriteLine("Hello, World");
  }
}
```
這是最基礎的 C# 程式碼架構，也是微軟 C# 官方教學的第一個範例，這個範例中有幾個重要的元素：
- `using System;`：這是引用命名空間的語法，`System` 是 C# 的核心命名空間，這個命名空間中包含了很多基本的類別，例如 `Console` 類別。本來的 code 可以寫成 `System.Console.Writeline`，但是因為引用了 `System` 命名空間，所以可以直接寫成 `Console.Writeline`。
- `class Hello`：這是一個類別的宣告，類別是 C# 的基本結構，所有的程式都是寫在類別中的。類別用於封裝方法、屬性和其他類別。
- `static void Main()`：`Main` 方法是 C# 程式的進入點，C# 的執行流程會從這個方法開始執行，所以一個 C# 專案中至少需要有一個 Main 方法作為程式的起始點。

:::warning
好像是 .NET 6.0 提供了一種叫**最上層陳述式**的語法，可以不用寫 `class` 這個關鍵字，直接寫方法，算是省去了一些程式碼吧，但大家都推薦還是要先學基礎的傳統語法。  
順道一提，為 Unity 學 C# 的夥伴，Unity 自己產生的 cs file 是屬於傳統式寫法。

```cs
using System;

// This line prints "Hello, World" 
Console.WriteLine("Hello, World");
```
:::

---

## 變數宣告
C# 的變數宣告必定使用**型別** (ex: `int`, `string`) 或是 `var` 關鍵字做開頭。  
使用 `var` 關鍵字宣告變數時，編譯器會根據變數的初始值來決定變數的型別，所以使用 `var` 宣告變數時是一定要給預設值的。  

```cs
using System;

string name;
name = "Jeremy";
Console.WriteLine("Hello, " + name); // Hello, Jeremy

var myFriend = "Scott";
// 字串插補的寫法
Console.WriteLine($"Hello, {myFriend}"); // Hello, Scott
```

---

## 字串 (String)
C# 的字串以 `string` 關鍵字宣告，可以說是 C# 最常用的型別之一，上述**變數宣告**的範例就是宣告**字串**型別的變數。  
字串可以用 `+` 來串接，也可以用 `$` 來做字串插補 (同見上面的範例)。  
C# 的字串不能用單引號 `'`，只能用雙引號 `"`，單引號是用來宣告字元的，這點跟 Javascript 不同。

### 去空白 (Trim)
`Trim` 方法可以去除字串前後的空白字元：

```cs
using System;

string greeting = "    Hello, world!     ";

// 去頭部空白
string trimStartGreeting = greeting.TrimStart();

// 去尾巴空白
string trimEndGreeting = greeting.TrimEnd();

// 去兩邊空白
string trimGreeting = greeting.Trim();


Console.WriteLine($"-{greeting}-"); // -    Hello, world!     -
Console.WriteLine($"-{trimStartGreeting}-"); // -Hello, world!     -
Console.WriteLine($"-{trimEndGreeting}-"); // -    Hello, world!-
Console.WriteLine($"-{trimGreeting}-"); // -Hello, world!-
```

### 字串替換 (Replace)
`Replace` 方法可以將字串中的指定字串取代成另一個字串，如下面範例可以指定將 **Hi** 換成 **Hello**：

```cs
string sayHi = "Hi, my friend";
sayHi = sayHi.Replace("Hi", "Hello");
Console.WriteLine(sayHi); // Hello, my friend
```

同樣類似的替換字串還有全部變大寫的 `ToUpper` 和全部變小寫的 `ToLower` 方法：

```cs
string sayHi = "Hi, my friend";
sayHi = sayHi.ToUpper();
Console.WriteLine(sayHi); // HI, MY FRIEND

sayHi = sayHi.ToLower();
Console.WriteLine(sayHi); // hi, my friend
```

### 字串搜尋 (Contains)
`Contains` 方法可以檢查字串中是否包含指定的字串，如果包含則回傳 `true`，否則回傳 `false`：

```cs
string sayHi = "Hi, my friend";
Console.WriteLine(sayHi.Contains("Hi")); // True
Console.WriteLine(sayHi.Contains("Hello")); // False
```

其他還有 `StartsWith` 和 `EndsWith` 方法可以檢查字串是否以指定字串開頭或結尾：

```cs
string sayHi = "Hi, my friend";
Console.WriteLine(sayHi.StartsWith("Hi")); // True
Console.WriteLine(sayHi.EndsWith("friend")); // True
```