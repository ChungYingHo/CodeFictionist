"use strict";(self.webpackChunkcode_fictionist=self.webpackChunkcode_fictionist||[]).push([[9946],{4212:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>i,default:()=>x,frontMatter:()=>l,metadata:()=>d,toc:()=>a});var t=s(85893),r=s(11151);const l={title:"Next \u7e3d\u89bd",tags:["react","next"]},i=void 0,d={id:"\u7b46\u8a18\u672c/React/Next/next-intro",title:"Next \u7e3d\u89bd",description:"\u5c08\u6848\u5efa\u7acb\u898b\u9019\u7bc7\u6587\u7ae0\u3002",source:"@site/docs/\u7b46\u8a18\u672c/React/Next/01-next-intro.mdx",sourceDirName:"\u7b46\u8a18\u672c/React/Next",slug:"/\u7b46\u8a18\u672c/React/Next/next-intro",permalink:"/docs/\u7b46\u8a18\u672c/React/Next/next-intro",draft:!1,unlisted:!1,tags:[{label:"react",permalink:"/docs/tags/react"},{label:"next",permalink:"/docs/tags/next"}],version:"current",sidebarPosition:1,frontMatter:{title:"Next \u7e3d\u89bd",tags:["react","next"]},sidebar:"programSidebar",previous:{title:"React - JSX",permalink:"/docs/\u7b46\u8a18\u672c/React/JSX"},next:{title:"\u5b98\u65b9\u6559\u5b78 - style",permalink:"/docs/\u7b46\u8a18\u672c/React/Next/next-style"}},c={},a=[{value:"Next \u74b0\u5883\u57fa\u672c\u4ecb\u7d39",id:"next-\u74b0\u5883\u57fa\u672c\u4ecb\u7d39",level:2},{value:"Next \u7684 app \u8cc7\u6599\u593e",id:"next-\u7684-app-\u8cc7\u6599\u593e",level:2},{value:"app \u8cc7\u6599\u593e\u7684\u7d50\u69cb",id:"app-\u8cc7\u6599\u593e\u7684\u7d50\u69cb",level:3},{value:"Layouts",id:"layouts",level:2},{value:"\u8def\u7531",id:"\u8def\u7531",level:2},{value:"\u52d5\u614b\u8def\u7531",id:"\u52d5\u614b\u8def\u7531",level:3},{value:"\u57fa\u672c\u6b3e",id:"\u57fa\u672c\u6b3e",level:4},{value:"Catch-all Segments",id:"catch-all-segments",level:4},{value:"Optional Catch-all Segments",id:"optional-catch-all-segments",level:4},{value:"\u5e73\u884c\u8def\u7531",id:"\u5e73\u884c\u8def\u7531",level:3},{value:"\u6514\u622a\u8def\u7531",id:"\u6514\u622a\u8def\u7531",level:3},{value:"\u5e73\u884c\u8def\u7531\u8207\u6514\u622a\u8def\u7531\u5dee\u5225\u5728\u54ea\uff1f",id:"\u5e73\u884c\u8def\u7531\u8207\u6514\u622a\u8def\u7531\u5dee\u5225\u5728\u54ea",level:4},{value:"Middleware",id:"middleware",level:2},{value:"Server Components \u8207 Client Components",id:"server-components-\u8207-client-components",level:2},{value:"\u53c3\u8003\u8cc7\u6599",id:"\u53c3\u8003\u8cc7\u6599",level:2}];function o(n){const e={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.admonition,{type:"info",children:(0,t.jsxs)(e.p,{children:["\u5c08\u6848\u5efa\u7acb\u898b",(0,t.jsx)(e.a,{href:"/docs/%E9%96%8B%E7%99%BC%E6%97%A5%E8%AA%8C/%E7%92%B0%E5%A2%83%E5%BB%BA%E7%BD%AE/next",children:"\u9019\u7bc7"}),"\u6587\u7ae0\u3002"]})}),"\n",(0,t.jsx)(e.h2,{id:"next-\u74b0\u5883\u57fa\u672c\u4ecb\u7d39",children:"Next \u74b0\u5883\u57fa\u672c\u4ecb\u7d39"}),"\n",(0,t.jsxs)(e.p,{children:["\u53ef\u4ee5\u53c3\u7167",(0,t.jsx)(e.a,{href:"https://nextjs.org/docs/getting-started/project-structure",children:"\u5b98\u7db2"}),"\u3002",(0,t.jsx)(e.br,{}),"\n","\u5728\u5efa\u7acb\u5c08\u6848\u6642\uff0cNext \u6703\u8a62\u554f\u8981\u4f7f\u7528 ",(0,t.jsx)(e.strong,{children:"app router"})," \u9084\u662f ",(0,t.jsx)(e.strong,{children:"pages router"}),"\uff0c\u4e5f\u6703\u8a62\u554f\u662f\u5426\u4f7f\u7528 ",(0,t.jsx)(e.strong,{children:"src"})," \u8cc7\u6599\u593e\uff0c\u9019\u4e9b\u90fd\u6703\u5f71\u97ff\u5c08\u6848\u555f\u52d5\u5f8c\u7684\u57fa\u672c\u74b0\u5883\u3002",(0,t.jsx)(e.br,{}),"\n","\u4ee5\u6211\u500b\u4eba\u5efa\u74b0\u5883\u70ba\u4f8b\uff0c\u6211\u63a1\u7528 ",(0,t.jsx)(e.strong,{children:"app router"})," \u53ca\u4e0d\u4f7f\u7528 ",(0,t.jsx)(e.strong,{children:"src"})," \u8cc7\u6599\u593e\uff0c\u56e0\u6b64\u6211\u7684\u57fa\u672c\u74b0\u5883\u662f\u50cf\u9019\u6a23\uff1a"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"app"}),"\uff1aapp router\u3002"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"public"}),"\uff1a\u975c\u614b\u6a94\u6848\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u7576\u7136\u4ecd\u7136\u53ef\u4ee5\u5728\u81ea\u5df1\u5275\u5efa\u500b ",(0,t.jsx)(e.strong,{children:"components"})," \u548c ",(0,t.jsx)(e.strong,{children:"utils"})," \u4f86\u5b58\u653e\u6703\u8907\u7528\u7684\u5143\u4ef6\u6216\u51fd\u5f0f\u3002"]}),"\n",(0,t.jsx)(e.admonition,{type:"info",children:(0,t.jsx)(e.p,{children:"\u8207 Nuxt3 \u4e0d\u4e00\u6a23\uff0c\u4e0a\u9762\u90a3\u5169\u500b\u90fd\u662f Nuxt3 \u5b98\u65b9\u5b9a\u7fa9\u7684\u8cc7\u6599\u593e\uff0c\u6240\u4ee5 Nuxt3 \u53ef\u4ee5\u505a\u5230\u81ea\u52d5\u5f15\u7528\uff0c\u4f46 Next \u4e0d\u884c\u3002"})}),"\n",(0,t.jsx)(e.h2,{id:"next-\u7684-app-\u8cc7\u6599\u593e",children:"Next \u7684 app \u8cc7\u6599\u593e"}),"\n",(0,t.jsxs)(e.p,{children:["Next \u7684\u4f5c\u696d\u74b0\u5883\u5f88\u4e7e\u6de8\u7684\u539f\u56e0\u8ddf Next \u7368\u6709\u7684 ",(0,t.jsx)(e.strong,{children:"app"})," \u8cc7\u6599\u593e\u7d50\u69cb\u6709\u95dc\u3002",(0,t.jsx)(e.br,{}),"\n","\u5728 Next \u6539\u7248\u524d\uff0c\u4ed6\u7684\u81ea\u52d5\u8def\u7531\u8a2d\u5b9a\u53eb\u505a ",(0,t.jsx)(e.strong,{children:"pages router"}),"\uff0c\u7528\u6cd5\u5927\u6982\u8ddf\u73fe\u5728\u7684 Nuxt3 \u5f88\u50cf\uff0c\u6240\u4ee5 Next \u5247\u66f4\u63a8\u85a6\u4f7f\u7528\u6539\u7248\u5f8c\u7684 ",(0,t.jsx)(e.strong,{children:"app router"}),"\uff0c\u539f\u56e0\u5728\u65bc ",(0,t.jsx)(e.strong,{children:"app.router"})," \u65b9\u4fbf\u96c6\u4e2d\u7ba1\u7406\u76f8\u95dc\u8a2d\u5b9a\u3002"]}),"\n",(0,t.jsxs)(e.p,{children:["\u500b\u4eba\u89ba\u5f97 Johnny Wang \u524d\u8f29\u5728\u4ed6\u7684\u90e8\u843d\u683c\u63d0\u5230 ",(0,t.jsx)(e.strong,{children:"app router"})," \u8207 ",(0,t.jsx)(e.strong,{children:"pages router"})," \u7684\u5dee\u5225\u89e3\u91cb\u7684\u975e\u5e38\u597d\uff1a"]}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"pages router"})," \u4ee5 ",(0,t.jsx)(e.strong,{children:"File"})," \u70ba\u55ae\u4f4d\u5b9a\u7fa9\u9801\u9762\uff0c\u8a72\u9801\u9762\u76f8\u95dc\u8a2d\u5b9a\u653e\u5728\u5916\u90e8\u7ba1\u7406\uff1b",(0,t.jsx)(e.strong,{children:"app router"})," \u4ee5 ",(0,t.jsx)(e.strong,{children:"Folder"})," \u5b9a\u7fa9\u9801\u9762\uff0c\u8a72\u9801\u9762\u6240\u6709\u76f8\u95dc\u8a2d\u5b9a\u90fd\u653e\u5728\u540c\u4e00\u500b\u8cc7\u6599\u593e\u88e1\u3002"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u5982\u679c\u662f\u4e00\u4f4d\u540c\u6642\u5beb\u904e Nuxt3 \u8ddf Next \u7684\u5de5\u7a0b\u5e2b\uff0c\u5c31\u53ef\u4ee5\u660e\u986f\u611f\u53d7\u5230\u9019\u53e5\u8a71\u7684\u542b\u7fa9\u3002"}),"\n",(0,t.jsx)(e.h3,{id:"app-\u8cc7\u6599\u593e\u7684\u7d50\u69cb",children:"app \u8cc7\u6599\u593e\u7684\u7d50\u69cb"}),"\n",(0,t.jsx)(e.p,{children:"Next \u5b9a\u7fa9\u7684 Routing Files \u662f\u9019\u6a23\uff1a"}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"Filename"}),(0,t.jsx)(e.th,{children:"Extension(s)"}),(0,t.jsx)(e.th,{children:"Description"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"layout"}),(0,t.jsx)(e.td,{children:".js, .jsx, .tsx"}),(0,t.jsx)(e.td,{children:"Layout"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"page"}),(0,t.jsx)(e.td,{children:".js, .jsx, .tsx"}),(0,t.jsx)(e.td,{children:"Page"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"loading"}),(0,t.jsx)(e.td,{children:".js, .jsx, .tsx"}),(0,t.jsx)(e.td,{children:"Loading UI"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"not-found"}),(0,t.jsx)(e.td,{children:".js, .jsx, .tsx"}),(0,t.jsx)(e.td,{children:"Not found UI"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"error"}),(0,t.jsx)(e.td,{children:".js, .jsx, .tsx"}),(0,t.jsx)(e.td,{children:"Error UI"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"global-error"}),(0,t.jsx)(e.td,{children:".js, .jsx, .tsx"}),(0,t.jsx)(e.td,{children:"Global error UI"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"route"}),(0,t.jsx)(e.td,{children:".js, .ts"}),(0,t.jsx)(e.td,{children:"API endpoint"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"template"}),(0,t.jsx)(e.td,{children:".js, .jsx, .tsx"}),(0,t.jsx)(e.td,{children:"Re-rendered layout"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"default"}),(0,t.jsx)(e.td,{children:".js, .jsx, .tsx"}),(0,t.jsx)(e.td,{children:"Parallel route fallback page"})]})]})]}),"\n",(0,t.jsx)(e.p,{children:"\u7528\u8cc7\u6599\u593e\u7d50\u69cb\u5c31\u50cf\u662f\u4e0b\u5217\u6a23\u5b50\uff0c\u7136\u5f8c\u6bcf\u500b\u8cc7\u6599\u593e\u4ee5\u6b64\u985e\u63a8\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-xml",children:"| app/\n\x3c!-- highlight-start --\x3e\n---| page.tsx\n---| layout.tsx\n---| loading.tsx\n---| not-found.tsx\n---| global-error.tsx\n\x3c!-- highlight-end --\x3e\n---| about/\n"})}),"\n",(0,t.jsxs)(e.p,{children:["\u4e0a\u8ff0\u9019\u6a23\u5c31\u662f\u8def\u7531 ",(0,t.jsx)(e.strong,{children:"/"})," \u7684\u6240\u6709\u9801\u9762\u76f8\u95dc\u8a2d\u5b9a\u3002",(0,t.jsx)(e.br,{}),"\n","\u800c ",(0,t.jsx)(e.strong,{children:"about"})," \u8cc7\u6599\u593e\u6703\u81ea\u52d5\u7522\u751f\u8def\u7531 ",(0,t.jsx)(e.strong,{children:"/about"})," \u7136\u5f8c\u4e00\u6a23\u53ef\u4ee5\u518d\u5305\u9019\u4e9b\u8a2d\u5b9a (\u540d\u5b57\u4e00\u6a23)\u3002\u800c\u5982\u679c ",(0,t.jsx)(e.strong,{children:"about"})," \u8cc7\u6599\u593e\u5167\u9084\u6709\u5305\u8cc7\u6599\u593e\uff0c\u6bd4\u5982 ",(0,t.jsx)(e.strong,{children:"story"})," \u5c31\u6703\u7522\u751f\u5de2\u72c0\u8def\u7531 ",(0,t.jsx)(e.strong,{children:"/about/story"}),"\u3002",(0,t.jsx)(e.br,{}),"\n",(0,t.jsx)(e.strong,{children:"app router"})," \u5c31\u662f\u9760\u9019\u6a23\u7684\u65b9\u5f0f\u4e00\u6b21\u7ba1\u7406\u9801\u9762\u76f8\u95dc\u8a2d\u5b9a\u548c\u8def\u7531\u3002"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"page.tsx\uff1a\u4ee3\u8868\u4e00\u500b\u7279\u5b9a\u7684\u9801\u9762\u7d44\u4ef6\uff0c\u8ca0\u8cac\u6e32\u67d3\u8a72\u9801\u9762\u7684 UI \u548c\u5167\u5bb9\u3002"}),"\n",(0,t.jsx)(e.li,{children:"layout.tsx\uff1a\u5b9a\u7fa9\u7576\u524d\u9801\u9762\u8207\u5b50\u9801\u9762\u7684\u5171\u4eab\u7248\u578b\u3002"}),"\n",(0,t.jsx)(e.li,{children:"loading.tsx\uff1a\u7528\u65bc\u5c55\u793a\u9801\u9762\u6216\u7d44\u4ef6\u52a0\u8f09\u904e\u7a0b\u4e2d\u7684\u63d0\u793a"}),"\n",(0,t.jsx)(e.li,{children:"not-found.tsx\uff1a\u5c31\u5e38\u898b\u7684 404 \u9801\u9762\uff0c\u53ef\u4ee5\u53ea\u8a2d\u5b9a\u6700\u5916\u5c64\u9019\u4e00\u500b\u3002"}),"\n",(0,t.jsx)(e.li,{children:"error.tsx\uff1a\u9032\u884c\u932f\u8aa4\u8655\u7406\u7684\u5730\u65b9\uff0c\u7576\u932f\u8aa4\u767c\u751f\u6642\u5411\u7528\u6236\u986f\u793a\u4e00\u500b\u66f4\u53cb\u597d\u7684\u932f\u8aa4\u8a0a\u606f\u6216\u754c\u9762\uff0c\u800c\u4e0d\u662f\u8b93\u61c9\u7528\u76f4\u63a5\u5d29\u6f70\u6216\u986f\u793a\u7121\u610f\u7fa9\u7684\u932f\u8aa4\u8a0a\u606f\u3002"}),"\n",(0,t.jsx)(e.li,{children:"global-error.tsx\uff1a\u7528\u4f86\u5c0d\u6700\u4e0a\u5c64 layout \u505a\u932f\u8aa4\u8655\u7406\u7684\u3002"}),"\n",(0,t.jsxs)(e.li,{children:["template.tsx\uff1a\u5c31\u662f\u4e0d\u5132\u5b58\u72c0\u614b\u7684 layout\uff0c\u5b83\u4e0d\u4fdd\u6301\u8de8\u9801\u9762\u72c0\u614b\uff0c\u6bcf\u6b21\u5c0e\u822a\u90fd\u6703\u91cd\u65b0\u6e32\u67d3\u3002(\u5b98\u65b9\u81ea\u5df1\u4e5f\u8aaa\uff1a",(0,t.jsx)(e.strong,{children:"While less common, you might choose a template over a layout if you want.."}),")"]}),"\n",(0,t.jsxs)(e.li,{children:["default.tsx\uff1a\u914d\u5408",(0,t.jsx)(e.strong,{children:"\u5e73\u884c\u8def\u7531"}),"\u4f7f\u7528\uff0c\u5728\u8cc7\u6e90\u8f09\u5165\u524d\u63d0\u4f9b\u4e00\u500b\u9810\u8a2d\u5167\u5bb9\uff0c\u70ba UI \u512a\u5316\u90e8\u5206\u3002"]}),"\n",(0,t.jsx)(e.li,{children:"route.ts\uff1a\u4e0d\u6703\u8ddf page.tsx \u540c\u6642\u51fa\u73fe\uff0c\u5b9a\u7fa9\u7576\u524d\u5c64\u7d1a\u7684 route handler\uff0c\u5c31\u662f\u4e00\u500b\u8b93\u958b\u767c\u8005\u5728\u7279\u5b9a\u7684\u8def\u7531\u4e0a\u8655\u7406\u5ba2\u6236\u7aef\u8acb\u6c42\uff0c\u9032\u884c\u6578\u64da\u52a0\u5de5\u3001\u7279\u6b8a API \u8abf\u7528\u7b49\u64cd\u4f5c\u7684\u5730\u65b9\u3002(\u628a\u5b83\u5c0d\u7167\u53bb Nuxt3 \u7684 server \u8cc7\u6599\u593e\u5c31\u597d\u61c2\u4e86)"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"layouts",children:"Layouts"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["Root Layout\uff1a\u9019\u500b\u4e00\u5b9a\u8981\u6709\uff0c\u683c\u5f0f\u4e5f\u4e00\u5b9a\u8981\u5305\u542b ",(0,t.jsx)(e.code,{children:"<html>"})," \u8ddf ",(0,t.jsx)(e.code,{children:"<body>"}),"\u3002"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",metastring:"title='app/layout.tsx'",children:'export default function RootLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  return (\n    <html lang="en">\n      <body>\n        {/* Layout UI */}\n        <main>{children}</main>\n      </body>\n    </html>\n  )\n}\n'})}),"\n",(0,t.jsxs)(e.ol,{start:"2",children:["\n",(0,t.jsx)(e.li,{children:"\u5176\u5b83\u4e00\u822c layouts"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",metastring:"title='app/dashboard/layout.tsx'",children:"export default function DashboardLayout({\n  children, // will be a page or nested layout\n}: {\n  children: React.ReactNode\n}) {\n  return (\n    <section>\n      {/* Include shared UI here e.g. a header or sidebar */}\n      <nav></nav>\n \n      {children}\n    </section>\n  )\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u8def\u7531",children:"\u8def\u7531"}),"\n",(0,t.jsx)(e.p,{children:"\u5982\u524d\u6bb5\u6240\u8ff0\uff0cNext \u6703\u81ea\u52d5\u7522\u751f\u8def\u7531\uff0c\u90a3\u5982\u4f55\u5728\u5404\u9801\u9762\u4e2d\u4f7f\u7528\u8def\u7531\uff1f"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"\u55ae\u7d14\u4f7f\u7528"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",metastring:"title='app/page.tsx'",children:"import Link from 'next/link'\n \nexport default function Page() {\n  return <Link href=\"/dashboard\">Dashboard</Link>\n}\n"})}),"\n",(0,t.jsxs)(e.ol,{start:"2",children:["\n",(0,t.jsxs)(e.li,{children:["\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"usePathname()"})," \u4f86\u66f4\u9748\u6d3b\u904b\u7528\u8def\u7531\uff1a"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:"'use client'\n \nimport { usePathname } from 'next/navigation'\nimport Link from 'next/link'\n \nexport function Links() {\n  const pathname = usePathname()\n \n  return (\n    <nav>\n      <ul>\n        <li>\n          <Link className={`link ${pathname === '/' ? 'active' : ''}`} href=\"/\">\n            Home\n          </Link>\n        </li>\n        <li>\n          <Link\n            className={`link ${pathname === '/about' ? 'active' : ''}`}\n            href=\"/about\"\n          >\n            About\n          </Link>\n        </li>\n      </ul>\n    </nav>\n  )\n}\n"})}),"\n",(0,t.jsxs)(e.ol,{start:"3",children:["\n",(0,t.jsxs)(e.li,{children:["\u7d93\u7531\u51fd\u5f0f\u6539\u8b8a\u8def\u7531\uff0c\u9700\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"useRouter"})," hook\uff1a"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:"'use client'\n \nimport { useRouter } from 'next/navigation'\n \nexport default function Page() {\n  const router = useRouter()\n \n  return (\n    <button type=\"button\" onClick={() => router.push('/dashboard')}>\n      Dashboard\n    </button>\n  )\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u52d5\u614b\u8def\u7531",children:"\u52d5\u614b\u8def\u7531"}),"\n",(0,t.jsx)(e.h4,{id:"\u57fa\u672c\u6b3e",children:"\u57fa\u672c\u6b3e"}),"\n",(0,t.jsxs)(e.p,{children:["\u7528 ",(0,t.jsx)(e.strong,{children:"[ ]"})," \u628a\u8cc7\u6599\u593e\u5305\u8d77\u4f86\u5373\u53ef\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-xml",children:"| app/\n---| blog/\n------| [slug]/\n"})}),"\n",(0,t.jsxs)(e.p,{children:["\u5982\u8981\u53d6\u7528\u52d5\u614b\u8def\u7531\u8cc7\u8a0a\uff0c\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"params.slug"})," \u5373\u53ef\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",metastring:"title='app/blog/[slug]/page.tsx'",children:"export default function Page({ params }: { params: { slug: string } }) {\n  return <div>My Post: {params.slug}</div>\n}\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u4e0b\u65b9\u9019\u6bb5\u570d\u89c0\u65b9\u5f0f\u98ef\u5982\u4f55\u7522\u751f\u591a\u500b\u52d5\u614b\u8def\u7531\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:"export async function generateStaticParams() {\n  const posts = await fetch('https://.../posts').then((res) => res.json())\n \n  return posts.map((post) => ({\n    slug: post.slug,\n  }))\n}\n"})}),"\n",(0,t.jsx)(e.h4,{id:"catch-all-segments",children:"Catch-all Segments"}),"\n",(0,t.jsxs)(e.p,{children:["\u53ef\u4ee5\u901a\u904e\u5728\u62ec\u865f\u5167\u6dfb\u52a0\u7701\u7565\u865f ",(0,t.jsx)(e.strong,{children:"[...folderName]"})," \u4f86\u64f4\u5c55\u6355\u7372\u6240\u6709\u5f8c\u7e8c\u7684\u6bb5\u843d\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-xml",children:"| app/\n---| blog/\n------| [...slug]/\n"})}),"\n",(0,t.jsxs)(e.p,{children:["\u5b98\u65b9\u4f8b\u5b50\u70ba ",(0,t.jsx)(e.strong,{children:"app/shop/[...slug]/page.js"})," \u53ef\u4ee5\u540c\u6642\u5c0d\u61c9\u5230\uff1a"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.strong,{children:"/shop/clothes"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.strong,{children:"/shop/clothes/tops"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.strong,{children:"/shop/clothes/tops/t-shirts"})}),"\n"]}),"\n",(0,t.jsx)(e.h4,{id:"optional-catch-all-segments",children:"Optional Catch-all Segments"}),"\n",(0,t.jsxs)(e.p,{children:["\u8207 Catch-all Segments \u76f8\u4f3c\uff0c\u4f46\u5b83\u5141\u8a31\u5339\u914d\u53ea\u6709\u57fa\u790e\u8def\u5f91\u800c\u6c92\u6709\u4efb\u4f55\u5b50\u8def\u5f91\u7684\u8def\u7531\u3002",(0,t.jsx)(e.br,{}),"\n","\u4ee5\u4e0a\u6578\u4f8b\u5b50\u4f86\u8b1b\u5c31\u662f ",(0,t.jsx)(e.strong,{children:"app/shop/[[...slug]]/page.js"})," \u53ef\u4ee5\u591a\u5339\u914d ",(0,t.jsx)(e.strong,{children:"/shop"})," \u9019\u500b\u8def\u7531\u3002"]}),"\n",(0,t.jsx)(e.h3,{id:"\u5e73\u884c\u8def\u7531",children:"\u5e73\u884c\u8def\u7531"}),"\n",(0,t.jsxs)(e.p,{children:["\u9019\u500b\u6982\u5ff5\u6307\u7684\u662f\u5728\u540c\u4e00\u500b\u7db2\u9801\u5e03\u5c40\u4e2d\uff0c\u6839\u64da\u7279\u5b9a\u7684\u689d\u4ef6\uff0c\u53ef\u4ee5\u540c\u6642\u986f\u793a\u4f86\u81ea\u4e0d\u540c\u8def\u7531\u7684\u5167\u5bb9\u3002",(0,t.jsx)(e.br,{}),"\n","\u9019\u7a2e\u65b9\u5f0f\u5141\u8a31\u5728\u4e0d\u8df3\u8f49\u9801\u9762\u7684\u60c5\u6cc1\u4e0b\uff0c\u5728\u4e00\u500b\u9801\u9762\u4e0a\u5c55\u793a\u591a\u500b\u4e0d\u540c\u7684\u5167\u5bb9\u5340\u584a\u6216\u7d44\u4ef6\uff0c\u9069\u5408\u65bc\u52d5\u614b\u6027\u9ad8\u7684\u61c9\u7528\u5834\u666f\uff0c\u6bd4\u5982\u5100\u8868\u677f\u6216\u793e\u4ea4\u7db2\u7ad9\u7684\u4fe1\u606f\u6d41\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-xml",children:"| app/\n---| @analytic/\n---| @team/\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u5b98\u65b9\u4f7f\u7528\u7bc4\u4f8b\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",metastring:"title='app/layout.tsx'",children:"export default function Layout({\n  children,\n  team,\n  analytics,\n}: {\n  children: React.ReactNode\n  analytics: React.ReactNode\n  team: React.ReactNode\n}) {\n  return (\n    <>\n      {children}\n      {team}\n      {analytics}\n    </>\n  )\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u6514\u622a\u8def\u7531",children:"\u6514\u622a\u8def\u7531"}),"\n",(0,t.jsxs)(e.p,{children:["Intercepting Routes \u53ef\u4ee5\u8b93\u4f7f\u7528\u8005\u5728\u700f\u89bd\u7db2\u9801\u7684\u6642\u5019\uff0c\u80fd\u5920\u5728\u4e0d\u96e2\u958b\u7576\u524d\u9801\u9762\u7684\u60c5\u6cc1\u4e0b\uff0c\u5f48\u51fa\u6216\u52a0\u8f09\u53e6\u4e00\u90e8\u5206\u7684\u5167\u5bb9\uff0c\u6bd4\u5982\u9ede\u64ca\u4e00\u5f35\u7167\u7247\uff0c\u7167\u7247\u4ee5\u5f48\u51fa\u8996\u7a97\u7684\u5f62\u5f0f\u51fa\u73fe\uff0c\u800c\u4e0d\u662f\u8df3\u8f49\u5230\u53e6\u4e00\u500b\u9801\u9762\u3002",(0,t.jsx)(e.br,{}),"\n","\u4ee5\u5b98\u65b9\u4f8b\u5b50\u4f86\u770b\uff0c",(0,t.jsx)(e.strong,{children:"feed"})," \u8cc7\u6599\u593e\u4e0b\u6709\u4e00\u500b ",(0,t.jsx)(e.strong,{children:"(..photo)"})," \u8cc7\u6599\u593e\uff0c\u53ef\u4ee5\u518d\u9019\u88e1\u505a\u5f48\u51fa\u8996\u7a97\u6a23\u5f0f\uff0c\u4ed6\u6703\u81ea\u52d5\u6514\u622a ",(0,t.jsx)(e.strong,{children:"photo"})," \u9019\u500b\u8cc7\u6599\u593e\u7522\u751f\u7684\u8def\u7531\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-xml",children:"| app/\n---| (..photo)/\n---| feed/\n------| photo/\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"(.)"}),"\uff1a \u7528\u4f86\u5339\u914d\u540c\u4e00\u5c64\u7d1a\u7684\u6bb5\u843d\u3002"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"(..)"}),"\uff1a \u7528\u4f86\u5339\u914d\u4e0a\u4e00\u5c64\u7d1a\u7684\u6bb5\u843d\u3002"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"(..)(..)"}),"\uff1a \u7528\u4f86\u5339\u914d\u5169\u5c64\u4ee5\u4e0a\u7684\u6bb5\u843d\u3002"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"(...)"}),"\uff1a \u7528\u4f86\u5339\u914d\u5f9e\u6839\u76ee\u9304\u958b\u59cb\u7684\u6240\u6709\u6bb5\u843d\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(e.admonition,{type:"info",children:[(0,t.jsx)(e.h4,{id:"\u5e73\u884c\u8def\u7531\u8207\u6514\u622a\u8def\u7531\u5dee\u5225\u5728\u54ea",children:"\u5e73\u884c\u8def\u7531\u8207\u6514\u622a\u8def\u7531\u5dee\u5225\u5728\u54ea\uff1f"}),(0,t.jsxs)(e.p,{children:["\u524d\u8005\u66f4\u591a\u95dc\u6ce8\u65bc\u4e00\u6b21\u6027\u5c55\u793a\u591a\u6a23\u5316\u7684\u5167\u5bb9\uff0c\u5f8c\u8005\u5247\u662f\u5728\u7528\u6236\u64cd\u4f5c\u4e2d\u9748\u6d3b\u5207\u63db\u986f\u793a\u7684\u5167\u5bb9\uff0c\u4f46\u90fd\u4e0d\u6703\u8b93\u7528\u6236\u611f\u89ba\u81ea\u5df1\u5df2\u7d93\u96e2\u958b\u4e86\u539f\u672c\u7684\u9801\u9762\u3002",(0,t.jsx)(e.br,{}),"\n","\u57fa\u672c\u4e0a\u5169\u8005\u53ef\u4ee5\u7d44\u5408\u4f7f\u7528\u3002"]})]}),"\n",(0,t.jsx)(e.h2,{id:"middleware",children:"Middleware"}),"\n",(0,t.jsx)(e.p,{children:"\u9019\u662f\u4e00\u500b\u8ddf app \u8cc7\u6599\u593e\u540c\u5c64\u7d1a\u7684\u6a94\u6848\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-xml",children:"---| app/\n---| middleware.ts\n"})}),"\n",(0,t.jsxs)(e.p,{children:["\u57fa\u672c\u4e0a middleware \u5141\u8a31\u5728\u4f3a\u670d\u5668\u63a5\u6536\u8acb\u6c42\u4e26\u5b8c\u6210\u8655\u7406\u4e4b\u524d\u5148\u57f7\u884c\u4e00\u4e9b\u64cd\u4f5c\uff0c\u6bd4\u5982\u8aaa\u767b\u5165\u9a57\u8b49\u3002",(0,t.jsx)(e.br,{}),"\n","\u4ee5\u5b98\u65b9\u7bc4\u4f8b\u70ba\u4f8b\uff0c\u5c31\u662f\u5c07\u6240\u6709\u8a2a\u554f ",(0,t.jsx)(e.strong,{children:"/about"})," \u8def\u5f91\uff08\u53ca\u5176\u6240\u6709\u5b50\u8def\u5f91\uff09\u7684\u8acb\u6c42\u91cd\u5b9a\u5411\u5230 ",(0,t.jsx)(e.strong,{children:"/home"})," \u8def\u5f91\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",metastring:"title='middleware.ts'",children:"import { NextResponse } from 'next/server'\nimport type { NextRequest } from 'next/server'\n \n// This function can be marked `async` if using `await` inside\nexport function middleware(request: NextRequest) {\n  return NextResponse.redirect(new URL('/home', request.url))\n}\n \nexport const config = {\n  matcher: '/about/:path*',\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"server-components-\u8207-client-components",children:"Server Components \u8207 Client Components"}),"\n",(0,t.jsx)(e.h2,{id:"\u53c3\u8003\u8cc7\u6599",children:"\u53c3\u8003\u8cc7\u6599"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://johnnywang1994.github.io/book/articles/js/next13-intro-approuter.html",children:"\u5feb\u901f\u4e0a\u624b NextJS v13 - \u57fa\u790e\u89c0\u5ff5 AppRouter \u7bc7"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://hackmd.io/@Heidi-Liu/nextjs-app-router?utm_source=preview-mode&utm_medium=rec",children:"\u3010\u5b78\u7fd2\u7b46\u8a18\u3011Next.js \u8def\u7531\u7cfb\u7d71\uff1aApp Router vs Page Router"})}),"\n"]})]})}function x(n={}){const{wrapper:e}={...(0,r.a)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(o,{...n})}):o(n)}},11151:(n,e,s)=>{s.d(e,{Z:()=>d,a:()=>i});var t=s(67294);const r={},l=t.createContext(r);function i(n){const e=t.useContext(l);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:i(n.components),t.createElement(l.Provider,{value:e},n.children)}}}]);