"use strict";(self.webpackChunkcode_fictionist=self.webpackChunkcode_fictionist||[]).push([[3424],{66910:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"tech_articles/language/Dart/dart_class","title":"Dart - Class","description":"Class","source":"@site/docs/tech_articles/03-language/06-Dart/04-dart_class.mdx","sourceDirName":"tech_articles/03-language/06-Dart","slug":"/tech_articles/language/Dart/dart_class","permalink":"/docs/tech_articles/language/Dart/dart_class","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"dart","permalink":"/docs/tags/dart"}],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Dart - Class","tags":["dart"]},"sidebar":"programSidebar","previous":{"title":"Dart - \u932f\u8aa4\u8655\u7406","permalink":"/docs/tech_articles/language/Dart/dart_error_handle"},"next":{"title":"C# - String","permalink":"/docs/tech_articles/language/CSharp/cs_string"}}');var r=s(74848),a=s(28453);const i={title:"Dart - Class",tags:["dart"]},l=void 0,c={},o=[{value:"Class",id:"class",level:2},{value:"Instance variables (\u5be6\u4f8b\u8b8a\u6578)",id:"instance-variables-\u5be6\u4f8b\u8b8a\u6578",level:3},{value:"Using class members",id:"using-class-members",level:3},{value:"Using constructors",id:"using-constructors",level:3},{value:"Getting an object&#39;s type",id:"getting-an-objects-type",level:3},{value:"Implicit interfaces",id:"implicit-interfaces",level:3}];function d(n){const e={admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{id:"class",children:"Class"}),"\n",(0,r.jsxs)(e.p,{children:["Dart \u662f OOP \u8a9e\u8a00\uff0c\u9019\u610f\u5473\u8457 ",(0,r.jsx)(e.code,{children:"class"})," \u8ddf ",(0,r.jsx)(e.code,{children:"object"})," \u662f Dart \u7684\u6839\u57fa\u3002",(0,r.jsx)(e.br,{}),"\n","\u985e\uff08class\uff09\u662f\u7d44\u7e54\u548c\u5c01\u88dd\u7a0b\u5f0f\u78bc\u7684\u57fa\u672c\u7d50\u69cb\u3002\u6bcf\u500b\u7269\u4ef6\u90fd\u662f\u4e00\u500b\u985e\u7684\u5be6\u4f8b\uff0c\u800c\u985e\u5247\u5b9a\u7fa9\u4e86\u7269\u4ef6\u7684\u884c\u70ba\u548c\u5c6c\u6027\u3002",(0,r.jsx)(e.br,{}),"\n","\u985e\u53ef\u4ee5\u5305\u542b\u65b9\u6cd5\uff08functions\uff09\u548c\u5be6\u4f8b\u8b8a\u6578\uff08instance variables\uff09\uff0c\u65b9\u6cd5\u7528\u65bc\u5b9a\u7fa9\u7269\u4ef6\u7684\u64cd\u4f5c\uff0c\u800c\u5be6\u4f8b\u8b8a\u6578\u7528\u65bc\u5b58\u5132\u7269\u4ef6\u7684\u72c0\u614b\u3002"]}),"\n",(0,r.jsx)(e.h3,{id:"instance-variables-\u5be6\u4f8b\u8b8a\u6578",children:"Instance variables (\u5be6\u4f8b\u8b8a\u6578)"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-dart",children:"class Point {\n  double? x; // Declare instance variable x, initially null.\n  double? y; // Declare y, initially null.\n  double z = 0; // Declare z, initially 0.\n}\n\nvoid main() {\n  var point = Point();\n  point.x = 4; // Use the setter method for x.\n  assert(point.x == 4); // Use the getter method for x.\n  assert(point.y == null); // Values default to null.\n}\n"})}),"\n",(0,r.jsxs)(e.admonition,{type:"warning",children:[(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"this \u6307\u5411\u6027"})}),(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-dart",children:"double initialX = 1.5;\n\nclass Point {\n  // OK, can access declarations that do not depend on `this`:\n  double? x = initialX;\n\n  // ERROR, can't access `this` in non-`late` initializer:\n  double? y = this.x;\n\n  // OK, can access `this` in `late` initializer:\n  late double? z = this.x;\n\n  // OK, `this.x` and `this.y` are parameter declarations, not expressions:\n  Point(this.x, this.y);\n}\n"})})]}),"\n",(0,r.jsx)(e.h3,{id:"using-class-members",children:"Using class members"}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528\u9ede\u904b\u7b97\u7b26 ",(0,r.jsx)(e.code,{children:"."})," \u53ef\u4ee5\u8a2a\u554f\u7269\u4ef6\u7684\u5be6\u4f8b\u8b8a\u6578\u548c\u65b9\u6cd5\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-dart",children:"// p \u662f\u4e00\u500b Point \u7269\u4ef6\uff0c\u6709\u5169\u500b\u5be6\u4f8b\u8b8a\u6578 x \u548c y\nvar p = Point(2, 2);\n\n// p.y \u5c31\u662f\u7372\u53d6 p \u7269\u4ef6\u7684 y \u5be6\u4f8b\u8b8a\u6578\u7684\u503c\nassert(p.y == 2);\n\n// \u5728 p \u7269\u4ef6\u4e0a\u8abf\u7528 distanceTo() \u65b9\u6cd5\uff0c\u4e26\u50b3\u905e\u4e00\u500b\u65b0\u7684 Point \u7269\u4ef6\u4f5c\u70ba\u53c3\u6578\ndouble distance = p.distanceTo(Point(4, 4));\n"})}),"\n",(0,r.jsxs)(e.admonition,{type:"tip",children:[(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"?"})," \u4f86\u5b89\u5168\u8a2a\u554f\uff1a"]}),(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-dart",children:"var a = p?.y;\n"})})]}),"\n",(0,r.jsx)(e.h3,{id:"using-constructors",children:"Using constructors"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-dart",children:"// method1\nvar p1 = Point(2, 2);\nvar p2 = Point.fromJson({'x': 1, 'y': 2});\n\n// method2 - with new\nvar p1 = new Point(2, 2);\nvar p2 = new Point.fromJson({'x': 1, 'y': 2});\n\n// create a compile-time constant using a constant constructor\nvar p = const ImmutablePoint(2, 2);\n"})}),"\n",(0,r.jsx)(e.h3,{id:"getting-an-objects-type",children:"Getting an object's type"}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"runtimeType"})," \u4f86\u7372\u5f97\u7269\u4ef6\u7684 class\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-dart",children:"print('The type of a is ${a.runtimeType}');\n"})}),"\n",(0,r.jsx)(e.h3,{id:"implicit-interfaces",children:"Implicit interfaces"}),"\n",(0,r.jsxs)(e.p,{children:["\u5728 Dart \u4e2d\uff0c\u6bcf\u500b\u985e\u81ea\u52d5\u5730\u6709\u4e00\u500b\u96b1\u85cf\u7684\u4ecb\u9762\uff0c\u9019\u500b\u4ecb\u9762\u5305\u62ec\u4e86\u9019\u500b\u985e\u7684\u6240\u6709\u65b9\u6cd5\u548c\u5c6c\u6027\u3002",(0,r.jsx)(e.br,{}),"\n","\u6211\u5011\u53ef\u4ee5\u901a\u904e\u5be6\u73fe\u9019\u500b\u4ecb\u9762\u4f86\u8b93\u5176\u4ed6\u985e\u64c1\u6709\u9019\u4e9b\u65b9\u6cd5\u548c\u5c6c\u6027\uff0c\u800c\u4e0d\u9700\u8981\u7e7c\u627f\u9019\u500b\u985e\u3002"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\u5148\u5b9a\u7fa9\u4e00\u500b class ",(0,r.jsx)(e.strong,{children:"Person"}),"\uff1a"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-dart",children:"class Person {\n  final String _name;\n\n  Person(this._name);\n\n  String greet(String who) => 'Hello, $who. I am $_name.';\n}\n"})}),"\n",(0,r.jsxs)(e.ol,{start:"2",children:["\n",(0,r.jsxs)(e.li,{children:["\u518d\u5b9a\u7fa9\u4e00\u500b class ",(0,r.jsx)(e.strong,{children:"Impostor"}),"\uff1a"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-dart",children:"class Impostor implements Person {\n  String get _name => '';\n\n  String greet(String who) => 'Hi $who. Do you know who I am?';\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"Impostor class \u8072\u660e\u5b83\u5be6\u73fe\u4e86 Person class\uff08\u6216\u8005\u66f4\u6e96\u78ba\u5730\u8aaa\uff0c\u5be6\u73fe\u4e86 Person \u7684\u96b1\u5f0f\u4ecb\u9762\uff09\uff0c\u6b64\u5916\u5b83\u5be6\u73fe\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"greet"})," \u65b9\u6cd5\uff0c\u4f46\u9019\u88e1\u7684\u884c\u70ba\u8207 Person \u7684 ",(0,r.jsx)(e.code,{children:"greet"})," \u65b9\u6cd5\u4e0d\u540c\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["\u5b9a\u7fa9\u4e86\u4e00\u500b ",(0,r.jsx)(e.code,{children:"_name"})," \u7684 getter\uff0c\u4f46\u9019\u88e1 _name \u8fd4\u56de\u4e00\u500b\u7a7a\u5b57\u4e32\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.ol,{start:"3",children:["\n",(0,r.jsxs)(e.li,{children:["\u5ba3\u544a\u4e00\u500b\u51fd\u5f0f ",(0,r.jsx)(e.strong,{children:"greetBob"}),"\uff0c\u9019\u500b\u51fd\u5f0f\u53ef\u4ee5\u63a5\u53d7\u4efb\u4f55\u5be6\u73fe\u4e86 Person \u4ecb\u9762\u7684\u5c0d\u8c61\uff0c\u7121\u8ad6\u5b83\u5be6\u969b\u4e0a\u662f Person \u9084\u662f Impostor\u3002\u9019\u4f7f\u5f97 greetBob \u53ef\u4ee5\u8655\u7406\u4e0d\u540c\u985e\u578b\u7684\u5c0d\u8c61\uff0c\u800c\u4e0d\u9700\u8981\u77e5\u9053\u5b83\u5011\u7684\u5177\u9ad4\u985e\u578b\uff1a"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-dart",children:"String greetBob(Person person) => person.greet('Bob');\n"})}),"\n",(0,r.jsxs)(e.ol,{start:"4",children:["\n",(0,r.jsxs)(e.li,{children:["\u904b\u884c ",(0,r.jsx)(e.strong,{children:"main()"})," \u51fd\u5f0f\uff1a"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-dart",children:"void main() {\n  print(greetBob(Person('Kathy'))); // Hello, Bob. I am Kathy.\n  print(greetBob(Impostor())); // Hi Bob. Do you know who I am?\n}\n"})})]})}function h(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},28453:(n,e,s)=>{s.d(e,{R:()=>i,x:()=>l});var t=s(96540);const r={},a=t.createContext(r);function i(n){const e=t.useContext(a);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:i(n.components),t.createElement(a.Provider,{value:e},n.children)}}}]);