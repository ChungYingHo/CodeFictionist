"use strict";(self.webpackChunkcode_fictionist=self.webpackChunkcode_fictionist||[]).push([[8499],{3801:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>a,frontMatter:()=>r,metadata:()=>i,toc:()=>l});var c=s(5893),d=s(1151);const r={title:"py4e - Access Web Data",tags:["python"]},t=void 0,i={id:"\u7a0b\u5f0f\u8a9e\u8a00/Python/coursera-m3/index",title:"py4e - Access Web Data",description:"Regular Expressions",source:"@site/docs/02-\u7a0b\u5f0f\u8a9e\u8a00/05-Python/03-coursera-m3/index.md",sourceDirName:"02-\u7a0b\u5f0f\u8a9e\u8a00/05-Python/03-coursera-m3",slug:"/\u7a0b\u5f0f\u8a9e\u8a00/Python/coursera-m3/",permalink:"/docs/\u7a0b\u5f0f\u8a9e\u8a00/Python/coursera-m3/",draft:!1,unlisted:!1,tags:[{label:"python",permalink:"/docs/tags/python"}],version:"current",frontMatter:{title:"py4e - Access Web Data",tags:["python"]},sidebar:"tutorialSidebar",previous:{title:"py4e - Data Structure",permalink:"/docs/\u7a0b\u5f0f\u8a9e\u8a00/Python/coursera-m2"},next:{title:"Node.js \u5b89\u88dd\u8207\u57fa\u790e\u64cd\u4f5c",permalink:"/docs/\u958b\u767c\u65e5\u8a8c/\u74b0\u5883\u5efa\u7f6e/node"}},o={},l=[{value:"Regular Expressions",id:"regular-expressions",level:2},{value:"Sockets",id:"sockets",level:2},{value:"Unicode",id:"unicode",level:2},{value:"ASCII",id:"ascii",level:3},{value:"Unicode",id:"unicode-1",level:3}];function h(e){const n={admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.a)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h2,{id:"regular-expressions",children:"Regular Expressions"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"re.search"}),"\uff1a\u8fd4\u56de\u7b2c\u4e00\u500b\u627e\u5230\u7684\u9805\u76ee\u3002\u76f8\u7576\u65bc ",(0,c.jsx)(n.code,{children:"re.find"}),"\u3002"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"re.finadall"}),"\uff1a\u641c\u7d22\u6240\u6709\u5339\u914d\u7684\u9805\u76ee\u3002"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-py",children:"import re\nfh = open('regex_sum_1927563.txt')\ncontent = fh.read()\nregFh = re.findall('[0-9]+', content)\nnums = 0\nfor i in regFh:\n    nums += int(i)\nprint(nums)\n"})}),"\n",(0,c.jsx)(n.admonition,{type:"tip",children:(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"RegEx"}),(0,c.jsx)(n.th,{children:"\u89e3\u91cb"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"a"})}),(0,c.jsx)(n.td,{children:'\u5339\u914d\u5b57\u7b26\u4e32\u4e2d\u7684 "a"\u3002'})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"^a"})}),(0,c.jsx)(n.td,{children:'\u5339\u914d\u4ee5 "a" \u958b\u982d\u9805\u76ee\u3002'})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"b$"})}),(0,c.jsx)(n.td,{children:'\u5339\u914d\u4ee5\u5b57\u6bcd "b" \u7d50\u5c3e\u7684\u5b57\u4e32\u3002'})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"."})}),(0,c.jsxs)(n.td,{children:['\u5339\u914d\u4efb\u4f55\u55ae\u500b\u5b57\u7b26\uff0c\u5982\u5b57\u4e32 "abc" \u53ef\u4ee5\u7528 ',(0,c.jsx)(n.code,{children:"a.c"})," \u5339\u914d\u6574\u500b\u5b57\u4e32\u3002"]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"+"})}),(0,c.jsxs)(n.td,{children:["\u8868\u793a\u524d\u9762\u7684\u898f\u5247\u53ef\u4ee5\u91cd\u8907\u4e00\u6b21\u6216\u591a\u6b21\uff0c\u5982 ",(0,c.jsx)(n.code,{children:"a+"}),' \u5c07\u5339\u914d "a"\u3001"aa"\u3001"aaa" \u7b49\u3002']})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"+?"})}),(0,c.jsxs)(n.td,{children:["\u975e\u8caa\u5a6a\u5339\u914d\uff0c\u6703\u5c07\u5339\u914d\u7684\u5b57\u7b26\u9650\u5236\u5728\u6700\u5c0f\u53ef\u80fd\u7684\u7bc4\u570d\uff0c\u5982 ",(0,c.jsx)(n.code,{children:"a+?"}),' \u5339\u914d "aaa" \u6703\u53ea\u8fd4\u56de "a"\u3002']})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"*"})}),(0,c.jsxs)(n.td,{children:["\u8868\u793a\u524d\u9762\u7684\u898f\u5247\u53ef\u4ee5\u91cd\u8907 ",(0,c.jsx)(n.code,{children:"0"})," \u6b21\u6216\u591a\u6b21\uff0c\u7528\u6cd5\u8ddf ",(0,c.jsx)(n.code,{children:"+"})," \u76f8\u540c\u3002"]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"*?"})}),(0,c.jsx)(n.td,{children:"\u975e\u8caa\u5a6a\u5339\u914d\u3002"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"\\s"})}),(0,c.jsxs)(n.td,{children:["\u5339\u914d\u7a7a\u767d\u5b57\u4e32\uff0c\u5982 ",(0,c.jsx)(n.code,{children:"^\\s+"})," \u53ef\u4ee5\u5339\u914d\u4ee5\u7a7a\u767d\u958b\u982d\u7684\u5b57\u4e32\u3002"]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"\\S"})}),(0,c.jsx)(n.td,{children:"\u5339\u914d\u975e\u7a7a\u767d\u5b57\u4e32\u3002"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"[abc]"})}),(0,c.jsx)(n.td,{children:"\u5339\u914d\u7fa4\u7d44\u5167\u4efb\u4e00\u5b57\u7b26\u3002"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"[^abc]"})}),(0,c.jsx)(n.td,{children:"\u5339\u914d\u7fa4\u7d44\u4ee5\u5916\u7684\u5b57\u7b26\u3002"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"()"})}),(0,c.jsxs)(n.td,{children:["\u5206\u7d44\uff0c\u5982 ",(0,c.jsx)(n.code,{children:"(abc)+"}),' \u5c07\u5339\u914d\u9023\u7e8c\u51fa\u73fe\u7684 "abcabc"\u3002']})]})]})]})}),"\n",(0,c.jsx)(n.h2,{id:"sockets",children:"Sockets"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-py",children:"import socket\n# \u5275\u5efa socket\nmysock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n# \u9023\u7d50\u4f3a\u670d\u5668\u8207\u7aef\u53e3\nmysock.connect(('data.pr4e.org', 80))\ncmd = 'GET http://data.pr4e.org/intro-short.txt HTTP/1.0\\r\\n\\r\\n'.encode()\nmysock.send(cmd)\n\nwhile True:\n    # \u6bcf\u6b21\u63a5\u6536\u6700\u591a 512 \u500b\u5b57\u7bc0\u7684\u6578\u64da\n    data = mysock.recv(512)\n    if len(data) < 1:\n        break\n    print(data.decode(),end='')\n\nmysock.close()\n"})}),"\n",(0,c.jsxs)(n.p,{children:["\u4e0b\u5716\u70ba ",(0,c.jsx)(n.code,{children:"Python for everybody"})," \u8ab2\u7a0b\u5f71\u7247\u622a\u5716\uff0c\u7528\u7e6a\u5716\u7684\u65b9\u5f0f\u65b9\u5e38\u5feb\u901f\u7406\u89e3 socket \u548c\u4e0a\u8ff0\u7a0b\u5f0f\u78bc\u5728\u7db2\u8def\u6e9d\u901a\u4e2d\u626e\u6f14\u7684\u89d2\u8272\u3002"]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{src:s(3978).Z+"",title:"Socket work (Picture from video of Python for everybody)",width:"1600",height:"808"})}),"\n",(0,c.jsx)(n.h2,{id:"unicode",children:"Unicode"}),"\n",(0,c.jsx)(n.h3,{id:"ascii",children:"ASCII"}),"\n",(0,c.jsx)(n.p,{children:"\u65e9\u671f\u5e38\u7528\u7684\u5b57\u7b26\u7de8\u78bc\u65b9\u5f0f\uff0c\u4ee5 128 \u500b\u6578\u5b57\u806f\u7e6b\u4e86 26 \u500b\u5927\u5beb\u5b57\u6bcd\u300126 \u500b\u5c0f\u5beb\u5b57\u6bcd\u300110 \u500b\u6578\u5b57\u3001\u6a19\u9ede\u7b26\u865f\u3001\u63a7\u5236\u5b57\u7b26\u7b49\u3002\u6bcf\u500b\u5b57\u7b26\u90fd\u6709\u4e00\u500b\u552f\u4e00\u7684 7 \u4f4d\u4e8c\u9032\u5236\u7de8\u78bc\uff0c\u9019\u6a23\u7684\u8a2d\u8a08\u4f7f\u5f97 ASCII \u5b57\u7b26\u53ef\u4ee5\u76f4\u63a5\u6620\u5c04\u5230\u4e00\u500b\u5b57\u7bc0\uff08byte\uff0c8 \u4f4d\uff09\u7684\u4e8c\u9032\u5236\u6578\u64da\u4e2d\u3002"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{src:s(2187).Z+"",width:"1124",height:"488"})}),"\n",(0,c.jsxs)(n.admonition,{type:"tip",children:[(0,c.jsxs)(n.p,{children:["\u9019\u4e5f\u8aaa\u660e\u4e86\u70ba\u4ec0\u9ebc ",(0,c.jsx)(n.code,{children:"print('H' < 'h')"})," \u6703\u5f97\u5230 ",(0,c.jsx)(n.code,{children:"True"}),"\uff0c\u56e0\u70ba\u4ee3\u8868 h \u7684\u6578\u5b57\u662f 104\uff0c\u5927\u65bc H \u7684 72\u3002"]}),(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-py",children:"print(ord('H'))\n# 72\n"})})]}),"\n",(0,c.jsx)(n.h3,{id:"unicode-1",children:"Unicode"}),"\n",(0,c.jsxs)(n.p,{children:["\u89e3\u6c7a ASCII \u7121\u6cd5\u5132\u5b58\u5176\u4ed6\u8a9e\u7cfb\u5b57\u7b26\u7684\u554f\u984c\u3002",(0,c.jsx)(n.code,{children:"UTF-8"})," \u662f\u73fe\u5728\u5e38\u7528\u7684\u7de8\u78bc\u65b9\u5f0f\u3002",(0,c.jsx)(n.br,{}),"\n","\u4e0b\u5716\u89e3\u91cb\u4e86\u70ba\u4f55\u4e0a\u8ff0\u7a0b\u5f0f\u78bc\u9700\u8981\u9032\u884c ",(0,c.jsx)(n.code,{children:"encode"})," \u548c ",(0,c.jsx)(n.code,{children:"decode"}),"\u3002"]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{src:s(4738).Z+"",width:"1600",height:"396"})})]})}function a(e={}){const{wrapper:n}={...(0,d.a)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(h,{...e})}):h(e)}},2187:(e,n,s)=>{s.d(n,{Z:()=>c});const c=s.p+"assets/images/ASCII-ffc9646f844e0118d6ec0aa9edc6994f.png"},3978:(e,n,s)=>{s.d(n,{Z:()=>c});const c=s.p+"assets/images/socket01-698770c6849adeba71a64323a0681c4e.png"},4738:(e,n,s)=>{s.d(n,{Z:()=>c});const c=s.p+"assets/images/unicode-1236c6fe4403abee593125c1da96c86a.png"},1151:(e,n,s)=>{s.d(n,{Z:()=>i,a:()=>t});var c=s(7294);const d={},r=c.createContext(d);function t(e){const n=c.useContext(r);return c.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),c.createElement(r.Provider,{value:n},e.children)}}}]);