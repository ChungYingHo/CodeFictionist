"use strict";(self.webpackChunkcode_fictionist=self.webpackChunkcode_fictionist||[]).push([[9703],{7049:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>c,default:()=>a,frontMatter:()=>t,metadata:()=>s,toc:()=>o});var l=n(85893),r=n(11151);const t={title:"Git \u9032\u968e\u4f7f\u7528",tags:["\u521d\u59cb\u74b0\u5883\u5efa\u7acb","git"]},c=void 0,s={id:"\u958b\u767c\u65e5\u8a8c/\u74b0\u5883\u5efa\u7f6e/git-flow",title:"Git \u9032\u968e\u4f7f\u7528",description:"Git \u7df4\u7fd2\u7db2\u7ad9",source:"@site/docs/\u958b\u767c\u65e5\u8a8c/01-\u74b0\u5883\u5efa\u7f6e/03-git-flow.mdx",sourceDirName:"\u958b\u767c\u65e5\u8a8c/01-\u74b0\u5883\u5efa\u7f6e",slug:"/\u958b\u767c\u65e5\u8a8c/\u74b0\u5883\u5efa\u7f6e/git-flow",permalink:"/docs/\u958b\u767c\u65e5\u8a8c/\u74b0\u5883\u5efa\u7f6e/git-flow",draft:!1,unlisted:!1,tags:[{label:"\u521d\u59cb\u74b0\u5883\u5efa\u7acb",permalink:"/docs/tags/\u521d\u59cb\u74b0\u5883\u5efa\u7acb"},{label:"git",permalink:"/docs/tags/git"}],version:"current",sidebarPosition:3,frontMatter:{title:"Git \u9032\u968e\u4f7f\u7528",tags:["\u521d\u59cb\u74b0\u5883\u5efa\u7acb","git"]},sidebar:"programSidebar",previous:{title:"Git \u5b89\u88dd\u8207\u4f7f\u7528",permalink:"/docs/\u958b\u767c\u65e5\u8a8c/\u74b0\u5883\u5efa\u7f6e/git"},next:{title:"VScode \u5b89\u88dd\u8207\u74b0\u5883\u5efa\u7f6e",permalink:"/docs/\u958b\u767c\u65e5\u8a8c/\u74b0\u5883\u5efa\u7f6e/vscode"}},d={},o=[{value:"Git \u7df4\u7fd2\u7db2\u7ad9",id:"git-\u7df4\u7fd2\u7db2\u7ad9",level:2},{value:"Git \u6307\u4ee4",id:"git-\u6307\u4ee4",level:2},{value:"Git \u7248\u63a7\u6d41\u7a0b",id:"git-\u7248\u63a7\u6d41\u7a0b",level:2},{value:"Git flow",id:"git-flow",level:3},{value:"GitHub flow",id:"github-flow",level:3},{value:"GitLab flow",id:"gitlab-flow",level:3},{value:"\u5408\u4f75 branch",id:"\u5408\u4f75-branch",level:2},{value:"git merge",id:"git-merge",level:3},{value:"Git \u8e29\u96f7\u7d00\u9304",id:"git-\u8e29\u96f7\u7d00\u9304",level:2},{value:"GitLab \u554f\u984c\u7d00\u9304\u96c6\u9326",id:"gitlab-\u554f\u984c\u7d00\u9304\u96c6\u9326",level:3},{value:"Reference",id:"reference",level:2}];function h(e){const i={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.admonition,{type:"tip",children:(0,l.jsx)(i.h2,{id:"git-\u7df4\u7fd2\u7db2\u7ad9",children:(0,l.jsx)(i.a,{href:"https://learngitbranching.js.org/?locale=zh_TW",children:"Git \u7df4\u7fd2\u7db2\u7ad9"})})}),"\n",(0,l.jsx)(i.h2,{id:"git-\u6307\u4ee4",children:"Git \u6307\u4ee4"}),"\n",(0,l.jsxs)(i.ol,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"git branch"}),": \u6aa2\u67e5\u672c\u5730\u76ee\u9304\u4e0b\u6709\u54ea\u4e9b\u5206\u652f\u3002"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"git branch develop"}),": \u5275\u5efa XXX \u5206\u652f\u3002"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"git branch -d develop"}),": \u522a\u9664 XXX \u5206\u652f\u3002"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"git switch develop"}),": \u5207\u63db\u8def\u5f91\u5230 XXX \u5206\u652f\u3002"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"git checkout -b develop"}),": \u5efa\u7acb\u4e26\u66f4\u63db\u8def\u5f91\u3002(",(0,l.jsx)(i.strong,{children:"note"}),": \u540c",(0,l.jsx)(i.code,{children:"git switch -c"}),"\u3002)"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"git remote -v"}),": \u67e5\u8a62\u9023\u7dda\u7684\u9060\u7aef repo\u3002"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"git remote remove origin"}),": \u89e3\u9664\u8ddf\u9060\u7aef repo \u7684\u9023\u7dda\u3002"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"git log --oneline"}),": \u67e5\u8a62 commit \u7d00\u9304 (\u884c\u5217\u5f0f)\u3002"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.code,{children:"git reset --hard <commit>"}),": \u56de\u5230\u6307\u5b9a commit\u3002"]}),"\n"]}),"\n",(0,l.jsx)(i.h2,{id:"git-\u7248\u63a7\u6d41\u7a0b",children:"Git \u7248\u63a7\u6d41\u7a0b"}),"\n",(0,l.jsx)(i.admonition,{type:"info",children:(0,l.jsx)(i.p,{children:"\u7121\u8ad6\u54ea\u7a2e\u7248\u63a7\u6d41\u7a0b\u90fd\u53ea\u662f\u4e00\u500b\u5efa\u8b70\uff0c\u4e0d\u662f\u898f\u7bc4\u3002"})}),"\n",(0,l.jsx)(i.h3,{id:"git-flow",children:"Git flow"}),"\n",(0,l.jsx)(i.p,{children:"\u7279\u9ede\uff1a"}),"\n",(0,l.jsxs)(i.ol,{children:["\n",(0,l.jsx)(i.li,{children:"\u6709 2 \u689d\u4e3b\u8981\u5206\u652f\uff1a main \u8207 develop\uff0c\u9019\u5169\u689d\u6703\u9577\u671f\u5b58\u5728\u3002"}),"\n",(0,l.jsx)(i.li,{children:"\u6709 3 \u689d\u652f\u63f4\u5206\u652f\uff1arelease\u3001hotfix\u3001feature\u3002"}),"\n"]}),"\n",(0,l.jsx)(i.p,{children:"\u5404 branch \u5c08\u8077\u5982\u4e0b\uff1a"}),"\n",(0,l.jsxs)(i.ol,{children:["\n",(0,l.jsx)(i.li,{children:"main\uff1a\u4e3b\u8981\u5206\u652f\uff0c\u6b63\u5f0f\u4e0a\u7dda\u7684\u7248\u672c\u3002"}),"\n",(0,l.jsx)(i.li,{children:"develop\uff1a\u958b\u767c\u5206\u652f\uff0c\u7d71\u6574\u6240\u6709\u958b\u767c\u4e2d\u7684\u7a0b\u5f0f\u78bc\u3002"}),"\n",(0,l.jsx)(i.li,{children:"release\uff1a\u9810\u767c\u5206\u652f\uff0c\u6307 develop branch \u4f75\u56de main branch \u524d\uff0c\u9700\u9032\u884c\u7248\u672c\u6e2c\u8a66\u800c\u7522\u751f\u7684\u5206\u652f\u3002\u6240\u4ee5 release \u5f9e develop branch \u5206\u51fa\u4f86\uff0c\u7248\u672c\u6e2c\u8a66\u5b8c merge \u56de main \u548c develop branch\u3002"}),"\n",(0,l.jsx)(i.li,{children:"hotfix\uff1a\u4fee\u5fa9\u5206\u652f\uff0c\u6307\u7684\u662f\u4e0a\u7dda\u7248\u672c\u9047\u5230\u6025\u9700\u8655\u7406\u7684 bug\uff0c\u5206\u51fa\u4f86\u9032\u884c\u4fee\u5fa9\u7684\u5206\u652f\u3002\u6240\u4ee5\u662f\u5f9e main branch \u5206\u51fa\u4f86\uff0c\u4fee\u5fa9\u5b8c merge \u56de main \u548c develop branch\u3002"}),"\n",(0,l.jsx)(i.li,{children:"feature: \u529f\u80fd\u5206\u652f\uff0c\u7531 develop \u5206\u51fa\u4f86\u9032\u884c\u7d30\u9805\u529f\u80fd\u7684\u958b\u767c\u5206\u652f\u3002\u958b\u767c\u7d50\u675f\u4f75\u56de develop\u3002"}),"\n"]}),"\n",(0,l.jsx)(i.h3,{id:"github-flow",children:"GitHub flow"}),"\n",(0,l.jsx)(i.p,{children:"\u7279\u9ede\uff1a"}),"\n",(0,l.jsxs)(i.ol,{children:["\n",(0,l.jsx)(i.li,{children:"\u53ea\u6709 1 \u689d\u4e3b\u8981\u5206\u652f\uff1amain branch\u3002"}),"\n",(0,l.jsx)(i.li,{children:"\u4ee5 pull request \u70ba\u5408\u4f75\u6838\u5fc3\u3002"}),"\n"]}),"\n",(0,l.jsxs)(i.p,{children:["\u7c21\u55ae\u4f86\u8aaa\uff0c\u5c31\u662f\u5404\u500b\u958b\u767c\u8005\u81ea\u5df1\u5f9e main branch \u62c9\u4e00\u689d\u81ea\u5df1\u7684\u5206\u652f\u51fa\u53bb\uff0c\u5728\u958b\u767c\u5b8c\u5f8c\u767c\u8d77 PR \u8acb\u5c08\u6848\u8ca0\u8cac\u4eba (\u6216\u662f\u5176\u4ed6\u958b\u767c\u8005) \u4f86\u5be9\u95b1\u3001\u8a0e\u8ad6\u767c\u8d77 PR \u7684\u7a0b\u5f0f\u78bc\u3002",(0,l.jsx)(i.br,{}),"\n","\u5982\u679c PR \u901a\u904e\uff0c\u5373 merge \u56de main branch\uff0c\u539f\u672c\u63d0\u4ea4 PR \u7684\u5206\u652f\u5373\u522a\u9664\u3002"]}),"\n",(0,l.jsx)(i.h3,{id:"gitlab-flow",children:"GitLab flow"}),"\n",(0,l.jsx)(i.p,{children:"\u7279\u9ede\uff1a"}),"\n",(0,l.jsxs)(i.ol,{children:["\n",(0,l.jsx)(i.li,{children:"\u4e0a\u6e38\u512a\u5148\u539f\u5247\uff1a\u5373\u552f\u4e00\u4e3b\u8981\u5206\u652f main branch \u662f\u6240\u6709\u5206\u652f\u7684\u4e0a\u6e38\uff0c\u53ea\u6709\u4e0a\u6e38\u5141\u8a31\u7684\u7a0b\u5f0f\u78bc\u8b8a\u5316\u624d\u53ef\u61c9\u7528\u5728\u4e0b\u6e38\u5206\u652f\u3002"}),"\n"]}),"\n",(0,l.jsx)(i.p,{children:"\u6240\u4ee5\u4e0b\u6e38\u5206\u652f\u662f\u4ec0\u9ebc\uff1f\u73fe\u4f86\u7c21\u55ae\u8aaa\u4e00\u4e0b Gitlab flow \u7684\u904b\u4f5c\u6d41\u7a0b\uff1a"}),"\n",(0,l.jsxs)(i.ol,{children:["\n",(0,l.jsx)(i.li,{children:"feature \u5206\u652f\u958b\u767c\u5b8c\u7562\uff0cmerge \u56de main branch\u3002"}),"\n",(0,l.jsx)(i.li,{children:"main branch \u5206\u51fa production branch \u548c stable branch\uff0c\u9019\u4e9b\u5206\u652f\u5c31\u6703\u88ab\u8996\u70ba\u4e0b\u6e38\u3002"}),"\n"]}),"\n",(0,l.jsx)(i.p,{children:"\u89e3\u91cb\u4e00\u4e0b\u4ec0\u9ebc\u662f gitlab flow \u7684 production branch \u548c stable branch\uff1a"}),"\n",(0,l.jsxs)(i.ol,{children:["\n",(0,l.jsx)(i.li,{children:"production\uff1a\u7528\u5728\u6301\u7e8c\u90e8\u7f72\u6642\uff0c\u6b64\u5206\u652f\u7684\u7a0b\u5f0f\u78bc\u61c9\u662f\u96a8\u6642\u53ef\u90e8\u7f72\u3001\u7d93\u6e2c\u8a66\u7684\u7a69\u5b9a\u7a0b\u5f0f\u78bc\u7248\u672c\u3002"}),"\n",(0,l.jsx)(i.li,{children:"stable\uff1a\u7528\u5728\u7248\u672c\u767c\u4f48\u6642\uff0c\u70ba\u6700\u65b0\u7a69\u5b9a\u91cb\u653e\u7248\u672c\u7684\u5206\u652f\u3002"}),"\n"]}),"\n",(0,l.jsx)(i.h2,{id:"\u5408\u4f75-branch",children:"\u5408\u4f75 branch"}),"\n",(0,l.jsx)(i.h3,{id:"git-merge",children:"git merge"}),"\n",(0,l.jsx)(i.h2,{id:"git-\u8e29\u96f7\u7d00\u9304",children:"Git \u8e29\u96f7\u7d00\u9304"}),"\n",(0,l.jsx)(i.h3,{id:"gitlab-\u554f\u984c\u7d00\u9304\u96c6\u9326",children:"GitLab \u554f\u984c\u7d00\u9304\u96c6\u9326"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:["\u5982\u679c ",(0,l.jsx)(i.code,{children:"git clone"})," \u4e86\u4e00\u4efd\u5c08\u6848\uff0c\u89e3\u9664\u539f\u5148\u7684\u9060\u7aef repo \u5132\u5b58\u5f8c\uff0c\u8981\u63a5\u5230\u81ea\u5df1\u7684\u9060\u7aef repo \u6642\u51fa\u73fe\u932f\u8aa4 ",(0,l.jsx)(i.code,{children:"! [remote rejected] main -> main (pre-receive hook declined) "}),"\u3002","\n",(0,l.jsxs)(i.ol,{children:["\n",(0,l.jsx)(i.li,{children:"\u5148\u522a\u9664\u8a72\u5c08\u6848\u672c\u5730\u7684 git repo\u3002"}),"\n"]}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-powershell",children:"Remove-Item -Path .git -Recurse -Force\n"})}),"\n",(0,l.jsxs)(i.ol,{start:"2",children:["\n",(0,l.jsx)(i.li,{children:"\u6aa2\u67e5\u662f\u5426\u522a\u9664\u4e7e\u6de8\uff1a"}),"\n"]}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-powershell",children:"git status\n"})}),"\n",(0,l.jsxs)(i.ol,{start:"3",children:["\n",(0,l.jsx)(i.li,{children:"\u91cd\u65b0\u5b89\u88dd\u672c\u5730 git repo\uff1a"}),"\n"]}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-powershell",children:"git init\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(i.h2,{id:"reference",children:"Reference"}),"\n",(0,l.jsxs)(i.ol,{children:["\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.a,{href:"https://github.com/xirong/my-git/blob/master/git-workflow-tutorial.md",children:"git workflow tutorial"})}),"\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.a,{href:"https://medium.com/@lf2lf2111/%E4%B8%89%E7%A8%AE%E7%89%88%E6%8E%A7%E6%B5%81%E7%A8%8B-29c82f5d4469",children:"\u4e09\u7a2e\u7248\u63a7\u6d41\u7a0b"})}),"\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.a,{href:"https://cloud.tencent.com/developer/article/1646937",children:"\u4e00\u6587\u5f04\u61c2 Gitflow\u3001Github flow\u3001Gitlab flow \u7684\u5de5\u4f5c\u6d41"})}),"\n"]})]})}function a(e={}){const{wrapper:i}={...(0,r.a)(),...e.components};return i?(0,l.jsx)(i,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},11151:(e,i,n)=>{n.d(i,{Z:()=>s,a:()=>c});var l=n(67294);const r={},t=l.createContext(r);function c(e){const i=l.useContext(t);return l.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function s(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),l.createElement(t.Provider,{value:i},e.children)}}}]);